plugins {
    id "com.android.application"      // sürümünü settings.gradle'da verdik
    id "org.jetbrains.kotlin.android" // aynı şekilde
    // Flutter eklentisi en sonda
    id "dev.flutter.flutter-gradle-plugin"
}

def localProperties    = new Properties()
def localPropertiesFile = rootProject.file("local.properties")
if (localPropertiesFile.exists()) {
    localPropertiesFile.withReader("UTF-8") { localProperties.load(it) }
}
def flutterVersionCode = (localProperties.getProperty("flutter.versionCode") ?: "1").toInteger()
def flutterVersionName =  localProperties.getProperty("flutter.versionName") ?: "1.0"

android {
    namespace   = "com.example.diapalet"      // ← kendi paket adın
    compileSdk  = 35                           // 34 veya 35

    ndkVersion  = "26.3.11579264"              // Flutter'ın ndkVersion’ı yerine sabit yazmak sorun çıkarmaz

    defaultConfig {
        applicationId         = "com.example.diapalet"   // ← aynı paket
        minSdk                = 21
        targetSdk             = 35
        versionCode           = flutterVersionCode
        versionName           = flutterVersionName
    }

    compileOptions {                            // JAVA 17
        sourceCompatibility JavaVersion.VERSION_17
        targetCompatibility JavaVersion.VERSION_17
    }
    kotlinOptions {                             // KOTLIN 1.9.x → JVM 17
        jvmTarget = "17"
    }

    buildTypes {
        release {
            signingConfig signingConfigs.debug  // test için
            shrinkResources false
            minifyEnabled false
        }
        debug {
            shrinkResources false
            minifyEnabled false
        }
    }
}

flutter {
    source = "../.."                            // varsayılan
}
